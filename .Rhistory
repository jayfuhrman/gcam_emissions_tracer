View(co2_clean)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
View(prj)
View(prj)
View(prj)
View(prj)
View(prj)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
View(primary_energy_map)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
pre -> read.csv("../output/GCAM_resultsClimate.csv")
pre <- read.csv("../output/GCAM_resultsClimate.csv")
View(pre)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
View(prj)
prj <- addMIBatchCSV(paste0(gcam_dir, "/low-cost_dac_high_os/IAMCreportingclimate.csv"), prj,clobber=TRUE)
saveProject(prj, paste0(out_dir, "/", prj_data))
prj <- addMIBatchCSV(paste0(gcam_dir, "/low-cost_dac_high_os/IAMCreportingclimate.csv"), prj,clobber=TRUE)
View(prj)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
prj <- loadProject(paste0(out_dir, "/", prj_data))
prj <- addMIBatchCSV(paste0(gcam_dir, "/low-cost_dac_high_os/all_queries_IAMCreportingprimaryen.csv"), prj,clobber=TRUE)
prj <- addMIBatchCSV(paste0(gcam_dir, "/high-cost_dac_low_os/IAMCreportingclimate.csv"), prj,clobber=TRUE)
prj <- addMIBatchCSV(paste0(gcam_dir, "/high-cost_dac_low-os/IAMCreportingclimate.csv"), prj,clobber=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
scenario_mapping <- read.csv("../mappings/scenario_mapping.csv")
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(scenario_mapping)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(prj)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
View(scenario_mapping)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(scenario_mapping)
View(pre)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(df1)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre2)
View(pre2)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre)
scenario_mapping$scenario
scenario_mapping$IAMC_scenario_name
View(scenario_mapping)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre2)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(df)
View(df1)
View(df)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(df)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre1)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(pre1)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(final)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(final)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/master.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/master.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/master.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/mapping.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R5)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R5)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R5)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R5)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
is.numeric(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
View(R10)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
install.packages("dplyr")
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/Postdoc/DAC CMP/_From Binsted, Matthew T/DAC_CMP_figs/diagnostics_water_2020.05.16.R', echo=TRUE)
source('~/Postdoc/DAC CMP/_From Binsted, Matthew T/DAC_CMP_figs/diagnostics_water_2020.05.16.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/GCAM_IAMC_reporting.R', echo=TRUE)
View(template)
GCAM_DATA %>%
filter(region != "World", # excl. Temperature|Forcing|Concentration
# excl. price and costs variables - already calculated global average
!grepl("Price|Capital Cost", var)) %>%
group_by(scenario, year, var) %>%
summarise(value = sum(value, na.rm = T)) %>%
ungroup %>%
mutate(region = "World") ->
GCAM_DATA_WORLD
GCAM_DATA_WORLD %>%
bind_rows(GCAM_DATA %>% filter(!(region == "World" & var %in% unique(GCAM_DATA_WORLD$var)))) %>%
complete(nesting(scenario, region, var), year = reporting_years) %>%
replace_na(list(value = 0)) ->
GCAM_DATA_wGLOBAL
template%>%
inner_join(GCAM_DATA_wGLOBAL %>%
na.omit %>%
spread(year, value), by = c("Variable" = "var")) %>%
#left_join( %>% select(GCAM_scenario, Scenario),
#          by = c("scenario" = "GCAM_scenario")) %>%
rename(Region = region) %>%
#select(reporting_columns) %>%
filter(!is.na(Region)) %>% # Drop variables we don't report
write.csv(file.path(out_dir, "GCAM_resultsERL_Sensitivity.csv"), row.names = FALSE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/GitHub/iamc-reporting/src/final_processing.R', echo=TRUE)
source('~/Postdoc/Climateworks CDR/Files/GCAM_EmissionsTracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/functions.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
CO2_emiss <- read_csv('all_emissions.csv')
View(CO2_emiss)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2)
View(CO2_emiss)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(sectors)
View(sectors)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(transform_sectors)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(transform_sectors)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(transform_sectors)
View(transform_sectors)
View(transform_sectors)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(transform_sectors)
View(transformation_sectors)
View(transform_sectors)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(transform_sectors)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
View(all_emissions)
View(CO2_emiss)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
CO2_emiss_transform <- CO2_emiss %>%
filter(direct %in% transformation_sectors$rewrite)
View(CO2_emiss_transform)
View(CO2_emiss_transform)
View(CO2_emiss_transform)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss_elec)
View(CO2)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
View(CO2_emiss)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
write.csv(CO2_emiss,'CO2_emiss.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(CO2_emiss,'CO2_emiss.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(CO2_emiss,'CO2_emiss.csv')
write.csv(CO2_emiss,'CO2_emiss.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(CO2_emiss,'CO2_emiss.csv')
CO2_by_tech <- rgcam::getQuery(prj, "CO2 emissions by tech")
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
print("Querying database...")
conn <- rgcam::localDBConn(DATABASE_FOLDER, DATABASE_NAME)
if(SCENARIO_NAME == "ALL"){
for (scenario in rgcam::listScenariosInDB(conn)$name){
prj <- rgcam::addScenario(conn, paste0(FOLDER_LOCATION, QUERY_RESULTS_LOCATION), scenario,
paste0(FOLDER_LOCATION, 'queries.xml'))
}
} else {
prj <- rgcam::addScenario(conn, paste0(FOLDER_LOCATION, QUERY_RESULTS_LOCATION), SCENARIO_NAME,
paste0(FOLDER_LOCATION, 'queries.xml'))
}
print("Database queried.")
print("Querying database...")
conn <- rgcam::localDBConn(DATABASE_FOLDER, DATABASE_NAME)
if(SCENARIO_NAME == "ALL"){
for (scenario in rgcam::listScenariosInDB(conn)$name){
prj <- rgcam::addScenario(conn, paste0(FOLDER_LOCATION, QUERY_RESULTS_LOCATION), scenario,
paste0(FOLDER_LOCATION, 'queries.xml'))
}
} else {
prj <- rgcam::addScenario(conn, paste0(FOLDER_LOCATION, QUERY_RESULTS_LOCATION), SCENARIO_NAME,
paste0(FOLDER_LOCATION, 'queries.xml'))
}
print("Database queried.")
CO2_tech <- rgcam::getQuery(prj, "CO2 emissions by tech")
prj <- rgcam::addScenario(conn, paste0(FOLDER_LOCATION, QUERY_RESULTS_LOCATION), SCENARIO_NAME,
paste0(FOLDER_LOCATION, 'queries.xml'))
View(CO2_emiss_elec)
View(CO2)
CO2_no_bio <- rgcam::getQuery(prj, "CO2 emissions by sector (no bio)")
View(CO2_no_bio)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
CO2_no_bio <- CO2
elec_CO2_no_bio <- CO2 %>%
filter(sector %in% filter(sectors$rewrite == 'electricity'))
sectors$rewrite == 'electricity'
sectors_elec <- sectors %>%
filter(rewrite == 'electricity')
elec_CO2_no_bio <- CO2 %>%
filter(sector %in% filter(sectors_elec$rewrite))
elec_CO2_no_bio <- CO2 %>%
filter(sector %in% sectors_elec$rewrite)
View(elec_CO2_no_bio)
View(sectors_elec)
elec_CO2_no_bio <- CO2 %>%
filter(sector %in% sectors_elec$sector)
View(elec_CO2_no_bio)
elec_CO2_no_bio %>%
group_by(c(region,scenario,year)) %>%
summarise() -> tmp
elec_CO2_no_bio %>%
group_by(c(region,scenario,year)) -> tmp
elec_CO2_no_bio %>%
group_by(c('region','scenario','year')) -> tmp
elec_CO2_no_bio %>%
group_by(region,scenario,year) -> tmp
View(tmp)
elec_CO2_no_bio %>%
group_by(region,scenario,year) %>%
mutate(sum = sum(value)) -> tmp
View(tmp)
elec_CO2_no_bio %>%
group_by(region,scenario,year) %>%
mutate(sum = sum(value)) %>%
ungroup() -> tmp
write.csv(tmp,'summed_elec.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(tmp)
elec_CO2_no_bio %>%
group_by(region,scenario,year) %>%
mutate(value = value/sum(value)) %>%
ungroup() -> elec_CO2_no_bio_norm
View(elec_CO2_no_bio_norm)
write.csv(elec_CO2_no_bio_norm,elec_CO2_no_bio_norm.csv)
write.csv(elec_CO2_no_bio_norm,'elec_CO2_no_bio_norm.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_norm,'elec_CO2_no_bio_norm.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_norm,'elec_CO2_no_bio_norm.csv')
write.csv(CO2_emiss_elec,'CO2_emiss_elec.csv')
elec_CO2_no_bio_norm %>%
left_join(elec_CO2_no_bio_norm,by = c('scenario','region','year')) -> elec_CO2_no_bio_norm
View(elec_CO2_no_bio_norm)
elec_CO2_no_bio_norm %>%
left_join(CO2_emiss_elec,by = c('scenario','region','year')) -> elec_CO2_no_bio_norm
View(elec_CO2_no_bio_norm)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(elec_CO2_no_bio_norm)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(elec_CO2_no_bio_norm)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_norm,'elec_CO2_no_bio_norm.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_norm,'elec_CO2_no_bio_norm.csv')
write.csv(elec_CO2_no_bio_norm,'elec_CO2_no_bio_norm.csv')
elec_gen_fuels <- read_csv('input/elec_generation.csv')
elec_gen_fuels <- read_csv('input/elec_generation.csv')
View(elec_gen_fuels)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_final,'elec_CO2_no_bio_final.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_final,'elec_CO2_no_bio_final.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(elec_CO2_no_bio_final,'elec_CO2_no_bio_final.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(CO2_emiss_elec,'CO2_emiss_elec')
write.csv(CO2_emiss_elec,'CO2_emiss_elec.csv')
write.csv(tmp,'tmp.csv')
View(CO2_emiss)
View(CO2_emiss_transform)
CO2_emiss_elec <- CO2_emiss_transform %>%
filter(direct == 'electricity')
View(CO2_emiss_elec)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
elec_CO2_no_bio <- CO2 %>%
filter(sector %in% sectors_elec$sector) %>%
group_by(region,scenario,year) %>%
mutate(normfrac = value/sum(value)) %>%
ungroup() %>%
select(-value,-Units) -> tmp
View(tmp)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
View(CO2_emiss)
View(CO2_emiss_transform)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
write.csv(CO2_emiss_elec,'CO2_emiss_elec.csv')
write.csv(CO2,'CO2_emissions_by_sector_no_bio.csv')
write.csv(input,'inputs_by_subsector.csv')
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/main.R', echo=TRUE)
source('~/GitHub/cwf_emissions_tracer/disagg_test.R', echo=TRUE)
